
const records = [
    {
      userId: 1,
      startTime: 1709891700000,
      endTime: 1709891700000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 54840000,
      createdBy: 1,
      updatedAt: 85200000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 1706863080000,
      endTime: 1706863080000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 36600000,
      createdBy: 1,
      updatedAt: 66840000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 1709893380000,
      endTime: 1709893380000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 47700000,
      createdBy: 1,
      updatedAt: 77760000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 1705628460000,
      endTime: 1705628460000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 44340000,
      createdBy: 1,
      updatedAt: 73380000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 1709716200000,
      endTime: 1709716800000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 43200000,
      createdBy: 1,
      updatedAt: 74940000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 28920000,
      endTime: 58680000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 28920000,
      createdBy: 1,
      updatedAt: 58680000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 29880000,
      endTime: 57780000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 29880000,
      createdBy: 1,
      updatedAt: 57780000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 54780000,
      endTime: 84600000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 54780000,
      createdBy: 1,
      updatedAt: 84600000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 30420000,
      endTime: 57840000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 30420000,
      createdBy: 1,
      updatedAt: 57840000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 42480000,
      endTime: 70860000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 42480000,
      createdBy: 1,
      updatedAt: 70860000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 29580000,
      endTime: 58740000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 29580000,
      createdBy: 1,
      updatedAt: 58740000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 44760000,
      endTime: 72360000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 44760000,
      createdBy: 1,
      updatedAt: 72360000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 29460000,
      endTime: 58620000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 29460000,
      createdBy: 1,
      updatedAt: 58620000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 36900000,
      endTime: 67560000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 36900000,
      createdBy: 1,
      updatedAt: 67560000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 29880000,
      endTime: 59340000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 29880000,
      createdBy: 1,
      updatedAt: 59340000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 45360000,
      endTime: 72480000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 45360000,
      createdBy: 1,
      updatedAt: 72480000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 29460000,
      endTime: 58980000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 29460000,
      createdBy: 1,
      updatedAt: 58980000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 50700000,
      endTime: 81000000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 50700000,
      createdBy: 1,
      updatedAt: 81000000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 37140000,
      endTime: 65880000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 37140000,
      createdBy: 1,
      updatedAt: 65880000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 45240000,
      endTime: 74700000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 45240000,
      createdBy: 1,
      updatedAt: 74700000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 48960000,
      endTime: 76800000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 48960000,
      createdBy: 1,
      updatedAt: 76800000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 48780000,
      endTime: 75720000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 48780000,
      createdBy: 1,
      updatedAt: 75720000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 40740000,
      endTime: 69840000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 40740000,
      createdBy: 1,
      updatedAt: 69840000,
      updatedBy: 1,
    },
    {
      userId: 1,
      startTime: 39420000,
      endTime: 67800000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 39420000,
      createdBy: 1,
      updatedAt: 67800000,
      updatedBy: 1,
    },
    {
      userId: 2,
      startTime: 36240000,
      endTime: 64800000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 36240000,
      createdBy: 2,
      updatedAt: 64800000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 52980000,
      endTime: 81660000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 52980000,
      createdBy: 2,
      updatedAt: 81660000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 33840000,
      endTime: 62160000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 33840000,
      createdBy: 2,
      updatedAt: 62160000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 35400000,
      endTime: 62400000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 35400000,
      createdBy: 2,
      updatedAt: 62400000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 48720000,
      endTime: 76620000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 48720000,
      createdBy: 2,
      updatedAt: 76620000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 48120000,
      endTime: 75660000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 48120000,
      createdBy: 2,
      updatedAt: 75660000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 34560000,
      endTime: 63240000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 34560000,
      createdBy: 2,
      updatedAt: 63240000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 53880000,
      endTime: 79800000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 53880000,
      createdBy: 2,
      updatedAt: 79800000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 54240000,
      endTime: 86160000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 54240000,
      createdBy: 2,
      updatedAt: 86160000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 56640000,
      endTime: 86040000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 56640000,
      createdBy: 2,
      updatedAt: 86040000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 38460000,
      endTime: 65100000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 38460000,
      createdBy: 2,
      updatedAt: 65100000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 52080000,
      endTime: 80280000,
      projectId: 53,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 52080000,
      createdBy: 2,
      updatedAt: 80280000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 37320000,
      endTime: 66900000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 37320000,
      createdBy: 2,
      updatedAt: 66900000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 51240000,
      endTime: 80580000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 51240000,
      createdBy: 2,
      updatedAt: 80580000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 49680000,
      endTime: 77040000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 49680000,
      createdBy: 2,
      updatedAt: 77040000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 52440000,
      endTime: 81180000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 52440000,
      createdBy: 2,
      updatedAt: 81180000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 54300000,
      endTime: 82860000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 54300000,
      createdBy: 2,
      updatedAt: 82860000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 30600000,
      endTime: 58860000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 30600000,
      createdBy: 2,
      updatedAt: 58860000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 52620000,
      endTime: 82320000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 52620000,
      createdBy: 2,
      updatedAt: 82320000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 39000000,
      endTime: 65640000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 39000000,
      createdBy: 2,
      updatedAt: 65640000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 49440000,
      endTime: 75720000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 49440000,
      createdBy: 2,
      updatedAt: 75720000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 40080000,
      endTime: 70740000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 40080000,
      createdBy: 2,
      updatedAt: 70740000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 41280000,
      endTime: 70980000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 41280000,
      createdBy: 2,
      updatedAt: 70980000,
      updatedBy: 2,
    },
    {
      userId: 2,
      startTime: 34560000,
      endTime: 62040000,
      projectId: 54,
      status: "Approved",
      taskType: "officeHour",
      deleteFlg: "0",
      createdAt: 34560000,
      createdBy: 2,
      updatedAt: 62040000,
      updatedBy: 2,
    },
  ];
const totalWorkTime = {};

records.forEach((record) => {
    const { userId, startTime, endTime } = record;
    console.log(userId);
    const workDuration = endTime - startTime;
    const startDate = new Date(startTime);
    const month = startDate.getMonth() + 1;

    if (!totalWorkTime[userId]) {
        totalWorkTime[userId] = {};
    }
    if (!totalWorkTime[userId][month]) {
        totalWorkTime[userId][month] = 0;
    }
    totalWorkTime[userId][month] += workDuration;
});

// Calculate the total work time for each user in each month across all projects
const totalWorkTimeAllProjects = {};

for (const userId in totalWorkTime) {
    for (const month in totalWorkTime[userId]) {
        if (!totalWorkTimeAllProjects[userId]) {
            totalWorkTimeAllProjects[userId] = 0;
        }
        totalWorkTimeAllProjects[userId] += totalWorkTime[userId][month];
    }
}

console.log("Total work time for each user in each month across all projects:");
for (const userId in totalWorkTimeAllProjects) {
    console.log(`User ${userId}: ${totalWorkTimeAllProjects[userId]} milliseconds`);
}
